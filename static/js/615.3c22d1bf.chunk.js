"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[615],{615:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var r=n(433),o=n(439);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var l=n(791);function a(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var i=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(r&&(r+=" "),r+=t);return r},u="TweetIstem_buttonFollow__yv1t8 TweetIstem_button__rGPdu",f="TweetIstem_buttonFollowing__8+ml9 TweetIstem_button__rGPdu",w="TweetIstem_tweetCard__1A4q5",m="TweetIstem_tweetImage__bl71H",_="TweetIstem_tweets__PxogA",h="TweetIstem_followers__juRpH",p={fetchTweets:function(e){return fetch("".concat("https://64674d33ba7110b663b4ab93.mockapi.io/tweets","?page=").concat(e,"&limit=").concat(3)).then((function(e){if(e.ok)return e.json()}))},folowTweets:function(e,t,n){return fetch("https://64674d33ba7110b663b4ab93.mockapi.io/tweets/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({followers:t,isFollow:n})})}},b=n(184),d=function(e){var t=e.user,n=e.tweets,r=e.followers,s=e.avatar,c=e.id,a=e.isFollow,d=(0,l.useState)(a),j=(0,o.Z)(d,2),g=j[0],v=j[1],y=(0,l.useState)(r),x=(0,o.Z)(y,2),O=x[0],k=x[1];(0,l.useEffect)((function(){p.folowTweets(c,O,g)}),[c,g,O]);return(0,b.jsx)("li",{className:w,children:(0,b.jsxs)("article",{children:[(0,b.jsx)("img",{className:m,src:s,alt:t,width:"62"}),(0,b.jsxs)("p",{className:_,children:[n," tweets"]}),(0,b.jsxs)("p",{className:h,children:[O," followers"]}),(0,b.jsx)("button",{className:i(u,[g&&f]),type:"button",onClick:function(){v(!g),k(g?O-1:O+1)},children:g?"following":"follow"})]})})},j="TweetsList_container__y9I8O",g="TweetsList_tweetList__xKByH",v=function(e){var t=e.tweets;return(0,b.jsx)("div",{className:j,children:(0,b.jsx)("ul",{className:g,children:t.map((function(e){return(0,b.jsx)(d,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),e.id)}))})})},y=n(689),x=n(249),O={all:"",follow:!1,followings:!0},k={selectForm:"DropDownForm_selectForm__JEsAP",select:"DropDownForm_select__CxLBH"},T=function(e){var t=e.selected,n=e.onChange;return(0,b.jsx)("form",{className:k.selectForm,children:(0,b.jsx)("select",{className:k.select,value:t,onChange:n,children:Object.keys(O).map((function(e){return(0,b.jsx)("option",{className:k.option,value:O[e],children:e},e)}))})})},P="Button_loadMoreBtn__bhrx+",N="Button_container__31fZ8",C=function(e){var t=e.handleClick;return(0,b.jsx)("div",{className:N,children:(0,b.jsx)("button",{className:P,type:"button",onClick:t,children:"Load More"})})},F=n(87),S="GoBackLink_goBackLink__9ip7Z",Z=function(e){var t=e.location;return(0,b.jsx)(F.rU,{className:S,to:t,children:"Go back"})},I=function(){var e,t,n=(0,l.useState)([]),s=(0,o.Z)(n,2),c=s[0],a=s[1],i=(0,l.useState)(null),u=(0,o.Z)(i,2),f=u[0],w=u[1],m=(0,l.useState)(1),_=(0,o.Z)(m,2),h=_[0],d=_[1],j=(0,l.useState)(O.all),g=(0,o.Z)(j,2),k=g[0],P=g[1],N=(0,y.TH)(),F=(0,l.useRef)(null!==(e=null===N||void 0===N||null===(t=N.state)||void 0===t?void 0:t.from)&&void 0!==e?e:x.Z.HOME);(0,l.useEffect)((function(){p.fetchTweets(h).then((function(e){return 0===e.length?Promise.reject(new Error("Sorry, we have no tweets.")):a((function(t){return[].concat((0,r.Z)(t),(0,r.Z)(e))}))})).catch((function(e){return w(e.message)}))}),[h]);var S=""===k?c:c.filter((function(e){return e.isFollow.toString()===k}));return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Z,{location:F.current}),(0,b.jsx)(T,{select:k,onChange:function(e){return P(e.target.value)}}),S.length>0&&(0,b.jsx)(v,{tweets:S}),f&&(0,b.jsx)("div",{children:f.message}),(0,b.jsx)(C,{handleClick:function(){d(h+1)}})]})}}}]);
//# sourceMappingURL=615.3c22d1bf.chunk.js.map
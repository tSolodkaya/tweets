"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[739],{739:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var o=n(433),s=n(439),l=n(683),r=n(791),c=n(182),a="TweetIstem_buttonFollow__yv1t8 TweetIstem_button__rGPdu",i="TweetIstem_buttonFollowing__8+ml9 TweetIstem_button__rGPdu",u="TweetIstem_tweetCard__1A4q5",f="TweetIstem_tweetImage__bl71H",w="TweetIstem_tweets__PxogA",_="TweetIstem_followers__juRpH",m={fetchTweets:function(e){return fetch("".concat("https://64674d33ba7110b663b4ab93.mockapi.io/tweets","?page=").concat(e,"&limit=").concat(3)).then((function(e){if(e.ok)return e.json()}))},folowTweets:function(e,t,n){return fetch("https://64674d33ba7110b663b4ab93.mockapi.io/tweets/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({followers:t,isFollow:n})})}},h=n(184),d=function(e){var t=e.user,n=e.tweets,o=e.followers,l=e.avatar,d=e.id,j=e.isFollow,p=(0,r.useState)(j),x=(0,s.Z)(p,2),v=x[0],b=x[1],g=(0,r.useState)(o),k=(0,s.Z)(g,2),T=k[0],N=k[1];(0,r.useEffect)((function(){m.folowTweets(d,T,v)}),[d,v,T]);return(0,h.jsx)("li",{className:u,children:(0,h.jsxs)("article",{children:[(0,h.jsx)("img",{className:f,src:l,alt:t,width:"62"}),(0,h.jsxs)("p",{className:w,children:[n," tweets"]}),(0,h.jsxs)("p",{className:_,children:[T," followers"]}),(0,h.jsx)("button",{className:(0,c.Z)(a,[v&&i]),type:"button",onClick:function(){b(!v),N(v?T-1:T+1)},children:v?"following":"follow"})]})})},j="TweetsList_container__y9I8O",p="TweetsList_tweetList__xKByH",x=function(e){var t=e.tweets;return(0,h.jsx)("div",{className:j,children:(0,h.jsx)("ul",{className:p,children:t.map((function(e){return(0,h.jsx)(d,(0,l.Z)({},e),e.id)}))})})},v=n(689),b=n(686),g=n.n(b),k=n(249),T={all:"",follow:!1,followings:!0},N={selectForm:"DropDownForm_selectForm__JEsAP",select:"DropDownForm_select__CxLBH"},Z=function(e){var t=e.selected,n=e.onChange;return(0,h.jsx)("form",{className:N.selectForm,children:(0,h.jsx)("select",{className:N.select,value:t,onChange:n,children:Object.keys(T).map((function(e){return(0,h.jsx)("option",{className:N.option,value:T[e],children:e},e)}))})})},C="Button_loadMoreBtn__bhrx+",y="Button_container__31fZ8",F=function(e){var t=e.handleClick;return(0,h.jsx)("div",{className:y,children:(0,h.jsx)("button",{className:C,type:"button",onClick:t,children:"Load More"})})},I=n(87),S="GoBackLink_goBackLink__9ip7Z",B=function(e){var t=e.location;return(0,h.jsx)(I.rU,{className:S,to:t,children:"Go back"})},L=function(){var e,t,n=(0,r.useState)([]),l=(0,s.Z)(n,2),c=l[0],a=l[1],i=(0,r.useState)(null),u=(0,s.Z)(i,2),f=u[0],w=u[1],_=(0,r.useState)(1),d=(0,s.Z)(_,2),j=d[0],p=d[1],b=(0,r.useState)(T.all),N=(0,s.Z)(b,2),C=N[0],y=N[1],I=(0,r.useState)(!1),S=(0,s.Z)(I,2),L=S[0],H=S[1],P=(0,v.TH)(),E=(0,r.useRef)(null!==(e=null===P||void 0===P||null===(t=P.state)||void 0===t?void 0:t.from)&&void 0!==e?e:k.Z.HOME);(0,r.useEffect)((function(){m.fetchTweets(j).then((function(e){return 0===e.length?Promise.reject(new Error("Sorry, we have no tweets.")):(H(!0),a((function(t){return[].concat((0,o.Z)(t),(0,o.Z)(e))})),j>1&&e.length<3?(g().Notify.info("We have no tweets more!"),void H(!1)):void 0)})).catch((function(e){return w(e.message)}))}),[j]);var D=""===C?c:c.filter((function(e){return e.isFollow.toString()===C}));return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(B,{location:E.current}),(0,h.jsx)(Z,{select:C,onChange:function(e){return y(e.target.value)}}),D.length>0&&(0,h.jsx)(x,{tweets:D}),f&&(0,h.jsx)("div",{children:f.message}),L&&(0,h.jsx)(F,{handleClick:function(){p(j+1)}})]})}}}]);
//# sourceMappingURL=739.d752f1de.chunk.js.map